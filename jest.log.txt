FAIL ./framework.test.ts
  ● check_npm_for_open_source › should return https link if valid github repository is present

    TypeError: fs.readFile is not a function

       98 | // the package names and github user/repo names
       99 | var readJSON = function (jsonPath, callback) {
    > 100 |     fs.readFile(jsonPath, 'utf-8', function (err, data) {
          |        ^
      101 |         if (err) {
      102 |             //console.error('Error reading file:', err);
      103 |             if (logLevel == 2) {

      at readFile (src/main.js:100:8)
      at readJSON (src/main.js:124:9)
      at check_npm_for_open_source (src/main.js:123:12)
      at Object.check_npm_for_open_source (framework.test.ts:17:29)

  ● check_npm_for_open_source › should return "Invalid" if no github repo is present

    TypeError: fs.readFile is not a function

       98 | // the package names and github user/repo names
       99 | var readJSON = function (jsonPath, callback) {
    > 100 |     fs.readFile(jsonPath, 'utf-8', function (err, data) {
          |        ^
      101 |         if (err) {
      102 |             //console.error('Error reading file:', err);
      103 |             if (logLevel == 2) {

      at readFile (src/main.js:100:8)
      at readJSON (src/main.js:124:9)
      at check_npm_for_open_source (src/main.js:123:12)
      at Object.check_npm_for_open_source (framework.test.ts:22:29)

  ● check_npm_for_open_source › should return null if file cannot be read

    TypeError: fs.readFile is not a function

       98 | // the package names and github user/repo names
       99 | var readJSON = function (jsonPath, callback) {
    > 100 |     fs.readFile(jsonPath, 'utf-8', function (err, data) {
          |        ^
      101 |         if (err) {
      102 |             //console.error('Error reading file:', err);
      103 |             if (logLevel == 2) {

      at readFile (src/main.js:100:8)
      at readJSON (src/main.js:124:9)
      at check_npm_for_open_source (src/main.js:123:12)
      at Object.check_npm_for_open_source (framework.test.ts:27:29)

  ● fetchRepoInfo › should fetch repo info successfully

    TypeError: fs.existsSync is not a function

      209 |             switch (_a.label) {
      210 |                 case 0:
    > 211 |                     if (fs.existsSync(logFilePath)) {
          |                            ^
      212 |                         fs.unlinkSync(logFilePath); // delete log file
      213 |                     }
      214 |                     ensureDirectoryExistence('./temp_linter_test'); // make temp directory for linter test files

      at existsSync (src/main.js:211:28)
      at call (src/main.js:33:23)
      at Object.step (src/main.js:14:53)
      at next (src/main.js:8:71)
      at Object.<anonymous>.__awaiter (src/main.js:4:12)
      at __awaiter (src/main.js:206:12)
      at Object.main (src/main.js:274:1)
      at Object.require (framework.test.ts:2:39)

  ● createLintDirs › should create linting directories

    TypeError: fs.existsSync is not a function

      61 | }
      62 | function ensureDirectoryExistence(directory) {
    > 63 |     if (!fs.existsSync(directory)) {
         |             ^
      64 |         fs.mkdirSync(directory, { recursive: true });
      65 |     }
      66 | }

      at existsSync (src/main.js:63:13)
      at src/metric_helpers.js:301:48
      at call (src/metric_helpers.js:33:23)
      at Object.step (src/metric_helpers.js:14:53)
      at next (src/metric_helpers.js:8:71)
      at Object.<anonymous>.__awaiter (src/metric_helpers.js:4:12)
      at __awaiter (src/metric_helpers.js:296:12)
      at Object.createLintDirs (framework.test.ts:165:28)

  ● outputResults › should print results as a json to string format

    TypeError: fs.appendFileSync is not a function

      202 |             console.log(JSON.stringify(repoData));
      203 |             ndJsonpath = "./results.ndjson";
    > 204 |             fs.appendFileSync(ndJsonpath, JSON.stringify(repoData) + "\n");
          |                ^
      205 |             if (main_1.logLevel >= 1) {
      206 |                 fs.appendFileSync(main_1.logFilePath, JSON.stringify(repoData) + "\n");
      207 |             }

      at appendFileSync (src/metrics.js:204:16)
      at call (src/metrics.js:35:23)
      at Object.step (src/metrics.js:16:53)
      at next (src/metrics.js:10:71)
      at Object.<anonymous>.__awaiter (src/metrics.js:6:12)
      at __awaiter (src/metrics.js:189:12)
      at Object.outputResults (framework.test.ts:248:11)

-------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                
-------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------
All files          |   43.86 |    34.46 |    49.2 |   46.35 |                                                                                  
 main.js           |    28.7 |    22.85 |   33.33 |   30.95 | 3,5-7,22-24,27-31,59-60,64,77-89,101-118,125-156,163-199,212-269                 
 metric_helpers.js |      50 |    40.97 |   55.55 |   49.55 | 23-24,96,124-129,137,165-166,177,185-290,302-305,311-347,354-364,386-389,405-411 
 metrics.js        |   52.38 |    38.65 |   65.51 |   60.46 | 5,7-8,24-26,29-33,67,80,83,86,89,132-182,205-208                                 
 urls_parse.js     |      48 |        0 |       0 |      48 | 12-20,31-35,44-51                                                                
-------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------
Test Suites: 1 failed, 1 total
Tests:       6 failed, 13 passed, 19 total
Snapshots:   0 total
Time:        2.891 s, estimated 4 s
